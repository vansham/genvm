# { "Depends": "py-genlayer:test" }

# 6 color rainbow
im_data = b"\x89PNG\r\n\x1a\n\x00\x00\x00\rIHDR\x00\x00\x00\x80\x00\x00\x00O\x04\x03\x00\x00\x00\xd1\xae\xd0\x99\x00\x00\x00'PLTE@@\xff\xff\x81\x00\x00y?\xff\xff\x00\xa0\x00\xc0\xf0\x00\x00R4\xf3\x00oE\xfch\x00\xff\xd4\x00\x80\xbc \x16f\x80\xffx\x00\xeeM\xf2\xd3\x00\x00\x00VIDATX\xc3\xed\xccA\x11\x800\x10\x04\xc1\xb5\x10\x0b\xb1\x80\x05,`!\x16\xb0\x80\x05,`!\x16\x10\xc5\xe3$\xcc'EM\x0b\xe8\x1cP\x0c\x0c\x0c*\xb8\xa04\xc8\xc0`\x91\xe0\x85rC\xd9 \x03\x83\xbf\x04\x0f\x94\x13J\x87\x0c\x0c\x16\t&\x14Ie@\xd9!\x03\x03\x83\xf2\x01\xb1\xdb\"}Y/;:\x00\x00\x00\x00IEND\xaeB`\x82"
import sys
from genlayer import *


class Contract(gl.Contract):
	@gl.public.view
	def main(self):
		def run():
			return gl.nondet.exec_prompt(
				'how many colors are in the image? Respond only with amount of colors, without any context',
				images=[im_data],
			)

		res = gl.eq_principle.strict_eq(run).lower()
		print(res, file=sys.stderr)
		if '6' in res or 'six' in res:
			print('yes, it is six')
		else:
			print(f'WRONG res')
